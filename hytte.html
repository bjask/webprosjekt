<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="no">

<head>
  <meta charset="utf-8"/>
  <link rel="StyleSheet" type="text/css" href="stilark.css" />

  <title>Hytteparadiset</title>
  <script src="jquery-3.1.1.js"></script>
  <script src="http://www.w3schools.com/lib/w3data.js"></script> <!-- script for å inkludere filer med html-tagger -->
  <script src="hyttevalgjavascript.js"></script> <!-- Her kjøres setningene ved valg av hytte på hyttesiden. -->
<script>
function bakgrunn(nummer) {
  $("tr.radstil" + nummer).css("background-color", "yellow");
}
function normal(nummer) {
  $("tr.radstil" + nummer).css("background-color", "initial");
}
function bakgrunnarea(nummer) {
//  alert("Hytte nr:  " + nummer);
  $("#hytte" + nummer).css("border", "5px solid red");
}
function normalarea(nummer) {
  $("#hytte" + nummer).css("border", "initial");
}
function etiketter(hyttenavn, hyttenr) {
  var infowindow = new google.maps.InfoWindow({
  content:hyttenavn
  });
}




</script>
</head>

<body>
  <div w3-include-html="tittel.html" id="heading"></div>
  <div w3-include-html="meny.html" id="meny"></div>
  <script>w3IncludeHTML();</script>  <!--Avsnittet inkluderer filer med html-innhold for tittel og meny -->
  <!--<img id="storkart" src="storkart1.png" usemap="#klikkekart" alt="områdekart" style="width:1082px;height:641px;" />
  <map name="klikkekart">
    <area id="hytte1" style="color:blue" shape="circle" coords="137,59,20" alt="Sj&#248;hytta" onmouseover="bakgrunn(1)" onmouseout="normal(1)" onclick="VelgHytte('Sj&#248;hytta', '1'); return false;" href="#tull" />
    <area id="hytte2" shape="circle" coords="1035,327,20" alt="Fjellhytta"  onmouseover="bakgrunn(2)" onmouseout="normal(2)" onclick="VelgHytte('Fjellhytta', '2'); return false;" href="#tull" />
  </map> -->
<input type="hidden" id="mellomlager" value="M" />
  <div id="map" ></div>

<script>
function myMap() {
  var mapCanvas = document.getElementById("map");
  var myCenter = new google.maps.LatLng(63.428857, 10.390009);
  var Moserabben = new google.maps.LatLng(63.397818, 11.422038);
  var Havblikk = new google.maps.LatLng(63.623229, 9.731516);
  var Tussebo = new google.maps.LatLng(63.175268, 10.079515);
  var mapOptions = {
    center: myCenter,
    zoom: 9
  };
  var map1 = new google.maps.Map(mapCanvas, mapOptions);
  var marker = [new google.maps.Marker({position:Havblikk}), new google.maps.Marker({position:Moserabben}), new google.maps.Marker({position:Tussebo})];
  var infowindow = null;
  var i=5;
  var tekst;
  var tellelengde = marker.length;
  for (i=0;i<marker.length;i++){
    marker[i].setMap(map1);
  }
  function kartklikk(klikkpunkt) {
    var infoboksinnhold = ["Havblikk", "Moserabben", "Tussebo"];
    if (infowindow) {
      infowindow.close();
    }

    infowindow = new google.maps.InfoWindow({
      content: infoboksinnhold[klikkpunkt]
      });
  infowindow.open(map1,marker[klikkpunkt]);
    VelgHytte(klikkpunkt + 1);
  }
  google.maps.event.addListener(marker[0],'click', function() {
    kartklikk(0);
  });
  google.maps.event.addListener(marker[1],'click', function() {
    kartklikk(1);
  });
  google.maps.event.addListener(marker[2],'click', function() {
    kartklikk(2);
  });
  google.maps.event.addListener(marker[0],'mouseover', function() {
    bakgrunn(1);
  });
  google.maps.event.addListener(marker[0],'mouseout', function() {
    normal(1);
  });
  google.maps.event.addListener(marker[1],'mouseover', function() {
    bakgrunn(2);
  });
  google.maps.event.addListener(marker[1],'mouseout', function() {
    normal(2);
  });
  google.maps.event.addListener(marker[2],'mouseover', function() {
    bakgrunn(3);
  });
  google.maps.event.addListener(marker[2],'mouseout', function() {
    normal(3);
  });
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?callback=myMap"></script>


  <p id="hytteliste">Hyttene v&aring;re:</p>

  <div class="main">
  <script>
$(document).ready(function(){
 var txt = "";
 txt += '<p class="liten">Klikk på hyttene på kartet for mer info om dem.</p>';
 $.ajax({             // Her hentes hytteinfo fra hytter.xml-fila
   type: "GET",
   url: "hytter.xml",
   dataType: "xml",
   success: function(xml) {
     $(xml).find("hytte").each(function(){
       txt += "<table class='hoved'>";
       txt += "<tr class='radstil" + $(this).find("hyttenr").text() + "' ><td>Navn: " + $(this).find("navn").text() +
       "</td><td>Sted: " + $(this).find("omraade").text() +
       "</td></tr><tr><td class='radstil'>Type: " + $(this).find("type").text() +
       "</td><td>Antall sengeplasser: " + $(this).find("antall_sengeplasser").text() +
       "</td></tr>";
       txt += "</table>";

     });
     $(".main").append(txt);
   }
  });

});
</script>
</div>


</body>
</html>
